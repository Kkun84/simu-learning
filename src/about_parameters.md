# TrajecSimuのパラメータ設定

ここではTrajecSimuを動かす時に設定するロケットのパラメータの解説を行います。

## パラメータファイルの形式

ロケットのパラメータファイルは、基本的に `Parameters_csv`フォルダ内のcsvファイルに置きます。
csvファイルの形式は以下のようになっています。

```parameters.csv
$ rocket height [m]
rocket_height, 2.899
$ rocket diameter [m]
rocket_diameter, 0.118
$ dry mass [kg]
m_dry, 13.639
```

上のように、パラメータファイルはカンマ `パラメータ名, 値` の形式で書かれています。
また、先頭に `$` のある行はコメント行となりパラメータとして読み込まれません。

## 各パラメータの解説

パラメータファイルに記述する各パラメータは以下の表の通りとなります

### ロケット機体に関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|rocket_height|ロケット全長[m]|
|rocket_diameter|ロケットボディーチューブ直径[m]|
|m_dry|乾燥時重量[kg]|
|m_prop|離床前の推進剤の重量[kg]|
|CG_dry|乾燥時重心位置[m]. ノーズ先端からの位置とする|
|CG_prop|ノーズ先端から推進剤重心位置までの距離[m].|
|MOI_dry_x|乾燥時ロール方向慣性モーメント[kg m^2]. |
|MOI_dry_y|乾燥時ピッチ方向慣性モーメント[kg m^2]. |
|MOI_dry_z|乾燥時ヨー方向慣性モーメント[kg m^2]. |
|MOI_prop_x|推進剤のみのロール方向慣性モーメント[kg m^2].|
|MOI_prop_y|推進剤のみのピッチ方向慣性モーメント[kg m^2].|
|MOI_prop_z|推進剤のみのヨー方向慣性モーメント[kg m^2].|
|lug_1st|最もノーズに近いランチラグのノーズ先端からの位置[m]|
|lug_2nd|2番目にノーズに近いランチラグのノーズ先端からの位置[m]|
|CP_body|空力中心位置[m]. ノーズ先端からの長さとする.|
|Cd0|マッハ0.1, 仰角0degreeでの抗力係数|
|Cl_alpha|揚力傾斜値[1/rad]|
|Cmq|ピッチダンピングモーメント.|

### シミュレーションに関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|dt|シミュレーションのタイムステップ[s]|
|t_max|シミュレーションを行う最長飛行時間[s]|

### ランチサイトに関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|azimuth|ランチャ方位角[deg].北=0degとして時計回りを正とする|
|elev_angle|ランチャ仰角[deg]|
|rail_length|ランチャレール長[m]|

### 風モデルに関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|wind_model|風モデルの種類。`wind_power`,`wind_forecast`,`power_es_hybrid`などが指定できる。詳細は後述|
|wind_alt_std|地上風向風速観測点の地面からの高度[m]|
|wind_direction|地上風向風速観測点での風の風向[deg]. 風の吹いてくる方向.北=0degとして時計回りを正|
|wind_speed|地上風向風速観測点での風速[m/s]|
|wind_direction_original|予報誤差分散ループを使う場合に指定する。-1で固定|
|wind_power_coeff|べき法則を使用する場合の係数n|
|forecast_csvname|予報モデルを使用する場合の風ファイル名|
|statistics_filename|統計モデルを使用する場合の統計パラメータのファイル名|
|error_stat_filename|予報誤差統計モデルの使用する場合の誤差統計パラメータのファイル名|

### スラストカーブに関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|thrust_input_type|スラストカーブの形式。`curve_const_t`または `time_curve` が指定可能(詳細は後述)|
|thrust_dt|スラストカーブのサンプリング間隔[s]|
|curve_fitting|スラストカーブの多項式近似によるフィッティングを行うかどうか。`true`または`false`で指定する|
|fitting_order|多項式近似の最大次数。|
|thrust_filename|スラストカーブのファイル名|
|thrust_mag_factor|スラストカーブの振幅の倍率|
|time_mag_factor|スラストカーブの時間方向の倍率|

### パラシュートに関するパラメータ

|パラメータ名|説明|
|:-:|:-|
|t_para_delay|1段目のパラシュート展開の頂点検知からの秒数[s]|
|Cd_para|1段目パラシュートの抗力係数|
|S_para|1段目パラシュートの有効面積[m^2]|
|second_para|2段目のパラシュートがあるかどうか。 `true`または`false`で指定|
|t_deploy_2|2段目パラシュート展開の離床からの秒数。|
|alt_para_2|2段目パラシュートの展開高度。2段目パラシュートは`t_deploy_2`か`alt_para_2`のどちらかの条件を満たすと展開する|
|Cd_para_2|2段目パラシュートの抗力係数|
|S_para_2|2段目パラシュートの有効面積[m^2]|

## 風モデルについて

[風モデルについて](wind_model.md)を参照。

## スラストカーブについて